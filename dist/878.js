"use strict";(self.webpackChunkcd_admin_v2=self.webpackChunkcd_admin_v2||[]).push([[878],{2878:(O,u,n)=>{n.r(u),n.d(u,{LoginModule:()=>E});var r=n(3075),c=n(1e3),h=n(5226),p=n.n(h),e=n(5e3),l=n(8555),s=n(277),m=n(2930),b=n(1223),g=n(6766),f=n(9808),v=n(1377);function x(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.formErrors.mobile," ")}}function y(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.error.error.message)}}let C=(()=>{class o{constructor(t,i,d){this.router=t,this.fb=i,this.userService=d,this.loading=!1,this.submitted=!1,this.error="",this.formErrors={mobile:""},this.validationMessages={mobile:{required:"Please enter your email",pattern:"please enter your vaild number"},password:{required:"please enter your password",pattern:"The password must contain numbers and letters",minlength:"Please enter more than 4 characters",maxlength:"Please enter less than 25 characters"}},this.userService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.buildForm(),localStorage.removeItem("isLogin"),localStorage.removeItem("userMobile")}buildForm(){this.userForm=this.fb.group({mobile:["",[r.kI.required,r.kI.pattern("^[0-9]{10}$")]]}),this.userForm.valueChanges.subscribe(t=>this.onValueChanged(t)),this.onValueChanged()}onValueChanged(t){}login(){console.log("form",this.userForm.value),this.submitted=!0,!this.userForm.invalid&&(this.loading=!0,this.userService.login(this.userForm.value.mobile).pipe().subscribe(t=>{this.router.navigate(["/verifyOtp"])},t=>{console.log("errrr",this.error.error),this.error=t,this.loading=!1,p().fire({icon:"error",title:"Oops...",text:t.error.message})}))}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(l.F0),e.\u0275\u0275directiveInject(r.qu),e.\u0275\u0275directiveInject(c.K))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-login"]],decls:14,vars:4,consts:[["fxLayout","column","fxFlexFill","","fxLayoutAlign","center center",2,"background-image","url('../../../assets/login11.jpg')","height","100%","background-repeat","no-repeat","background-position","center","background-size","cover"],["fxLayout","column"],[1,"mat-elevation-z4"],["fxLayout","column","fxLayoutAlign","start stretch",3,"formGroup","ngSubmit"],[1,"full-width"],["type","text","id","mobile","placeholder","Please enter your mobile number","formControlName","mobile","required","","matInput","",1,"input"],["class","help is-danger",4,"ngIf"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["class","alert alert-danger mt-3 mb-0",4,"ngIf"],[1,"help","is-danger"],[1,"alert","alert-danger","mt-3","mb-0"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card")(4,"mat-card-content")(5,"h3"),e.\u0275\u0275text(6,"Welcome To Networking Management System"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"form",3),e.\u0275\u0275listener("ngSubmit",function(){return i.login()}),e.\u0275\u0275elementStart(8,"mat-form-field",4),e.\u0275\u0275element(9,"input",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,x,2,1,"div",6),e.\u0275\u0275elementStart(11,"button",7),e.\u0275\u0275listener("click",function(){return i.login()}),e.\u0275\u0275text(12,"log in"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,y,2,1,"div",8),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275advance(7),e.\u0275\u0275property("formGroup",i.userForm),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.formErrors.mobile),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!i.userForm.valid),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.error))},directives:[s.xw,s.s9,s.Wh,m.a8,m.dn,r._Y,r.JL,r.sg,b.KE,r.Fj,g.Nt,r.JJ,r.u,r.Q7,f.O5,v.lW],styles:[".sigin-conainer[_ngcontent-%COMP%]{min-height:100%;background-size:cover;padding:100px}.sigin-main[_ngcontent-%COMP%]{position:relative;margin:0 auto;width:500px}.full-width[_ngcontent-%COMP%]{width:100%}.redirect[_ngcontent-%COMP%]{font-size:14px;margin-left:10px;color:#0aa}"]}),o})();var L=n(9013),F=n(6367),I=n(1620),S=n(520);const M=[{path:"",component:C}];let E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({providers:[c.K],imports:[[m.QW,f.ez,I.o9,v.ot,L.vV,g.c,F.g0,r.u5,r.UX,l.Bz.forChild(M),S.JF],l.Bz]}),o})()}}]);